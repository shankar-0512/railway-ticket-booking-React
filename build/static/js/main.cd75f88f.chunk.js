(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(e,t,a){e.exports={control:"MyProfile_control__28zkG",invalid:"MyProfile_invalid__3ycNu",h2:"MyProfile_h2__27pNM",h2Profile:"MyProfile_h2Profile__8qeKk",button:"MyProfile_button__10lsX",actions:"MyProfile_actions__Ww9yY",total:"MyProfile_total__2r4Mq"}},,function(e,t,a){e.exports={login:"Home_login__1pflM",select:"Home_select__1RWBZ",actions:"Home_actions__21KJR",total:"Home_total__3yWr2",summary:"Home_summary__1jHm5",ships:"Home_ships__3xK4o","meals-appear":"Home_meals-appear__1rrpA",error:"Home_error__19rDm",heading:"Home_heading__2Ycnf"}},,function(e,t,a){e.exports={control:"Input_control__3dOTh",invalid:"Input_invalid__1g9v9"}},,function(e,t,a){e.exports={login:"Login_login__3muW8",select:"Login_select__2c31n",actions:"Login_actions__1jJrC",total:"Login_total__3nP_B"}},,,,function(e,t,a){e.exports={button:"Button_button__2EJR4",ship_button:"Button_ship_button__2BVcj",ticket_button:"Button_ticket_button__RKq04"}},function(e,t,a){e.exports={shiplist:"MyBooking_shiplist__3OGxI",ship__fallback:"MyBooking_ship__fallback__1ty3V",total:"MyBooking_total__GxJHV",actions:"MyBooking_actions__PTZVG"}},function(e,t,a){e.exports={header:"MainNavigation_header__2-j23",logo:"MainNavigation_logo__JdIRW",nav:"MainNavigation_nav__tr3xi",active:"MainNavigation_active__1IKfx"}},,,,function(e,t,a){e.exports={ticketDate:"TicketDate_ticketDate__38maB",ticketDate__month:"TicketDate_ticketDate__month__Qhjv0",ticketDate__year:"TicketDate_ticketDate__year__3Q4uE",ticketDate__day:"TicketDate_ticketDate__day__2mxWn"}},,function(e,t,a){e.exports={backdrop:"Modal_backdrop__3TP-V",modal:"Modal_modal__2WCFi","slide-down":"Modal_slide-down__1t9NO"}},function(e,t,a){e.exports={ship:"Ship_ship__3lKsU",ship__actions:"Ship_ship__actions__7Q70Y",ship__description:"Ship_ship__description__13S9c",ship__price:"Ship_ship__price__2k9i8"}},,,function(e,t,a){e.exports={shipdate:"ShipDate_shipdate__3j_s6",shipdate__month:"ShipDate_shipdate__month__1f-cX",shipdate__year:"ShipDate_shipdate__year__iPlni",shipdate__day:"ShipDate_shipdate__day__1YR4U"}},function(e,t,a){e.exports={shiplist:"ShipList_shiplist__27l96",ship__fallback:"ShipList_ship__fallback__1eSHb"}},function(e,t,a){e.exports={ship:"Tickets_ship__2qw8P",ship__actions:"Tickets_ship__actions__1QEXT",ship__description:"Tickets_ship__description__20wyT",ship__price:"Tickets_ship__price__zKdPG"}},,function(e,t,a){e.exports={card:"Card_card__3YFwa"}},function(e,t,a){e.exports={spinner:"LoadingSpinner_spinner__n7RXI"}},function(e,t,a){e.exports={main:"Layout_main__3GXsv"}},,,,,,,,function(e,t,a){},,,,function(e,t,a){},function(e,t,a){"use strict";a.r(t);var s=a(17),n=a.n(s),c=a(11),r=a(7),l=a(19),i=Object(l.b)({name:"login",initialState:{isAuthenticated:!1,userId:null},reducers:{LoginStateHandler:function(e){e.isAuthenticated=!e.isAuthenticated,console.log("isauth :"+e.isAuthenticated)},UpdateUserId:function(e,t){e.userId=t.payload,console.log("userId :"+e.userId)}}}),o=i.actions,d=i,u=Object(l.b)({name:"userInput",initialState:{from:null,to:null,journeyDate:null,class:null},reducers:{UpdateUserInputs:function(e,t){e.from=t.payload.from,e.to=t.payload.to,e.journeyDate=t.payload.journeyDate,e.class=t.payload.class,console.log("from :"+e.from)}}}),j=u.actions,b=u,p=Object(l.a)({reducer:{login:d.reducer,user:b.reducer}}),h=(a(40),a(2)),O=a(3),m=a(9),f=a(5),v=a.n(f),x=a(1),y=a.n(x),g=a(30),N=a.n(g),k=a(0),_=function(e){return Object(k.jsx)("div",{className:"".concat(N.a.card," ").concat(e.className),children:e.children})},V=a(14),R=a.n(V),S=function(e){return Object(k.jsx)("button",{id:e.id,type:e.type||"button",className:"".concat(R.a.button," ").concat(e.className),onClick:e.onClick,disabled:e.disabled,children:e.children})},C=a(8),P=a.n(C),I=y.a.forwardRef((function(e,t){var a=Object(x.useRef)();function s(){a.current.focus()}return Object(x.useImperativeHandle)(t,(function(){return{focus:s}})),Object(k.jsxs)("div",{className:"".concat(P.a.control," ").concat(!1===e.isValid?P.a.invalid:""),children:[Object(k.jsx)("label",{htmlFor:e.id,children:e.label}),Object(k.jsx)("input",{ref:a,type:e.type,id:e.id,value:e.value,list:e.list,onChange:e.onChange,onBlur:e.onBlur})]})})),E=a(10),L=a.n(E);var M=function(){var e=Object(x.useState)(!1),t=Object(h.a)(e,2),a=t[0],s=t[1],n=Object(x.useState)(null),c=Object(h.a)(n,2),r=c[0],l=c[1],i=Object(x.useState)(""),o=Object(h.a)(i,2),d=o[0],u=o[1],j=Object(x.useCallback)(function(){var e=Object(m.a)(v.a.mark((function e(t,a){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),l(null),e.prev=2,e.next=5,fetch(t.url,{method:t.method?t.method:"GET",headers:t.headers?t.headers:{},body:t.body?JSON.stringify(t.body):null});case 5:if((n=e.sent).ok){e.next=8;break}throw new Error(t.errorMsg);case 8:return e.next=10,n.json();case 10:if(c=e.sent,u(c),1!==c.responseCode){e.next=14;break}throw new Error(c.responseMessage);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),l(e.t0.message||t.errorMsg);case 19:s(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t,a){return e.apply(this,arguments)}}(),[]);return{isLoading:a,error:r,response:d,sendRequest:j,resetError:function(){l(null)},resetResponse:function(){u("")}}},U=a(31),w=a.n(U),T=function(){return Object(k.jsx)("div",{className:w.a.spinner})},A=a(22),B=a.n(A),D=function(e){return Object(k.jsx)("div",{className:B.a.backdrop,onClick:e.onClose})},F=function(e){return Object(k.jsx)("div",{className:B.a.modal,children:Object(k.jsx)("div",{className:B.a.content,children:e.children})})},q=document.getElementById("overlays"),X=function(e){return Object(k.jsxs)(x.Fragment,{children:[n.a.createPortal(Object(k.jsx)(D,{onClose:e.onClose}),q),n.a.createPortal(Object(k.jsx)(F,{children:e.children}),q)]})},W=a(18),H=a.n(W),J="";function z(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:t.val.includes("@")}:"INPUT_BLUR"===t.type?{value:e.value,isValid:e.value.includes("@")}:"CLEAR"===t.type?{value:"",isValid:null}:{value:"",isValid:!1}}function Y(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:t.val.trim().length>6}:"INPUT_BLUR"===t.type?{value:e.value,isValid:e.value.trim().length>6}:"CLEAR"===t.type?{value:"",isValid:null}:{value:"",isValid:!1}}function Q(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:""!==t.val.trim().length}:"INPUT_BLUR"===t.type?{value:e.value,isValid:""!==e.value.trim().length}:"CLEAR"===t.type?{value:"",isValid:null}:{value:"",isValid:!1}}function Z(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:t.val.trim()===J.trim()}:"INPUT_BLUR"===t.type?{value:e.value,isValid:e.value.trim()===J.trim()}:"CLEAR"===t.type?{value:"",isValid:null}:{value:"",isValid:!1}}function K(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:""!==t.val.trim()}:"INPUT_BLUR"===t.type?{value:e.value,isValid:""!==e.value.trim()}:"CLEAR"===t.type?{value:"",isValid:null}:{value:"",isValid:!1}}function G(e,t){return"USER_INPUT"===t.type?{value:t.val,isValid:""!==t.val.trim()}:"INPUT_BLUR"===t.type?{value:e.value,isValid:""!==e.value.trim()}:"CLEAR"===t.type?{value:"",isValid:null}:{value:"",isValid:!1}}var $=function(e){var t=Object(O.h)(),a=Object(r.b)(),s=Object(x.useState)(!1),n=Object(h.a)(s,2),c=n[0],l=n[1],i=Object(x.useReducer)(z,{value:"",isValid:null}),d=Object(h.a)(i,2),u=d[0],j=d[1],b=Object(x.useReducer)(Q,{value:"",isValid:null}),p=Object(h.a)(b,2),f=p[0],g=p[1],N=Object(x.useReducer)(Y,{value:"",isValid:null}),V=Object(h.a)(N,2),R=V[0],C=V[1],E=Object(x.useReducer)(Z,{value:"",isValid:null}),U=Object(h.a)(E,2),w=U[0],A=U[1],B=Object(x.useReducer)(K,{value:"",isValid:null}),D=Object(h.a)(B,2),F=D[0],q=D[1],W=Object(x.useReducer)(G,{value:"",isValid:null}),$=Object(h.a)(W,2),ee=$[0],te=$[1],ae=Object(x.useRef)(),se=Object(x.useRef)(),ne=Object(x.useRef)(),ce=Object(x.useRef)(),re=Object(x.useRef)(),le=Object(x.useRef)(),ie=M(),oe=ie.isLoading,de=ie.error,ue=ie.sendRequest,je=ie.response,be=ie.resetError,pe=ie.resetResponse;Object(x.useEffect)((function(){var t=setTimeout((function(){e.signUpFlag?l(f.isValid&&u.isValid&&R.isValid&&w.isValid&&F.isValid&&ee.isValid):l(u.isValid&&R.isValid)}),200);return function(){clearTimeout(t)}}),[f.isValid,u.isValid,R.isValid,w.isValid,F.isValid,ee.isValid,e.signUpFlag,c]);var he=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ue({url:"http://localhost:8080/api/protected/loginAuth",method:"post",headers:{"Content-Type":"application/json"},body:{name:t.enteredName,email:t.enteredEmail,password:t.enteredPassword,rePassword:t.enteredRePassword,basePlanet:t.enteredPlanet,dob:t.enteredDate,signUpF:t.signUpFlag},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Oe(){be(),pe()}0===je.responseCode&&(a(o.LoginStateHandler()),a(o.UpdateUserId(je.userId)),localStorage.setItem("isLoggedIn",1),localStorage.setItem("userId",je.userId),Oe()),Object(x.useEffect)((function(){e.loginF&&t("/login")}),[e.loginF,t]);var me=Object(k.jsx)("div",{className:L.a.actions,children:Object(k.jsx)(S,{className:L.a.btn,onClick:Oe,children:"Close"})}),fe=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:L.a.total,children:Object(k.jsx)("span",{children:je.responseMessage})})});return oe?Object(k.jsx)("div",{className:"centered",children:Object(k.jsx)(T,{})}):Object(k.jsxs)(_,{className:L.a.login,children:[(de||void 0!==je.responseCode)&&Object(k.jsxs)(X,{onClose:e.onClose,children:[fe,me]}),Object(k.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),e.signUpFlag){var a=f.value,s=u.value,n=R.value,r=w.value,i=F.value,o=ee.value;if(c)he({enteredName:a,enteredEmail:s,enteredPassword:n,enteredRePassword:r,enteredPlanet:i,enteredDate:o,signUpFlag:"Y"}),l(!1),e.postSignUp(),g({type:"CLEAR"}),j({type:"CLEAR"}),C({type:"CLEAR"}),A({type:"CLEAR"}),q({type:"CLEAR"}),te({type:"CLEAR"})}else{var d=u.value,b=R.value;if(c)he({enteredEmail:d,enteredPassword:b,signUpFlag:"N"}),l(!1),j({type:"CLEAR"}),C({type:"CLEAR"})}},children:[e.signUpFlag&&Object(k.jsx)(I,{ref:ae,id:"name",label:"Name",type:"text",isValid:f.isValid,value:f.value,onChange:function(e){g({type:"USER_INPUT",val:e.target.value})},onBlur:function(){g({type:"INPUT_BLUR"})}}),Object(k.jsx)(I,{ref:se,id:"email",label:"E-Mail",type:"email",isValid:u.isValid,value:u.value,onChange:function(e){j({type:"USER_INPUT",val:e.target.value})},onBlur:function(){j({type:"INPUT_BLUR"})}}),Object(k.jsx)(I,{ref:ne,id:"password",label:"Password",type:"password",isValid:R.isValid,value:R.value,onChange:function(e){C({type:"USER_INPUT",val:e.target.value}),J=e.target.value},onBlur:function(){C({type:"INPUT_BLUR"})}}),e.signUpFlag&&Object(k.jsx)(I,{ref:ce,id:"rePassword",label:"Re-Password",type:"password",isValid:w.isValid,value:w.value,onChange:function(e){A({type:"USER_INPUT",val:e.target.value})},onBlur:function(){A({type:"INPUT_BLUR"})}}),e.signUpFlag&&Object(k.jsxs)("div",{className:P.a.control,children:[Object(k.jsx)("label",{children:"Base Planet"}),Object(k.jsxs)("select",{ref:re,className:L.a.select,name:"planetList",id:"planets",value:F.value,onChange:function(e){q({type:"USER_INPUT",val:e.target.value})},onBlur:function(){q({type:"INPUT_BLUR"})},children:[Object(k.jsx)("option",{value:"",style:{color:"grey"},children:"Select an Option"}),Object(k.jsx)("option",{value:"Earth",style:{color:"black"},children:"Earth"}),Object(k.jsx)("option",{value:"Mars",style:{color:"black"},children:"Mars"}),Object(k.jsx)("option",{value:"Moon",style:{color:"black"},children:"Moon"}),Object(k.jsx)("option",{value:"Ceres",style:{color:"black"},children:"Ceres"}),Object(k.jsx)("option",{value:"Europa",style:{color:"black"},children:"Europa"}),Object(k.jsx)("option",{value:"Titan",style:{color:"black"},children:"Titan"}),Object(k.jsx)("option",{value:"EB-15",style:{color:"black"},children:"EB-15"}),Object(k.jsx)("option",{value:"ISS",style:{color:"black"},children:"ISS"}),Object(k.jsx)("option",{value:"Kepler-186F",style:{color:"black"},children:"Kepler-186F"})]})]}),e.signUpFlag&&Object(k.jsxs)("div",{className:P.a.control,children:[Object(k.jsx)("label",{htmlFor:"date",children:"Date of Birth"}),Object(k.jsx)("input",{ref:le,id:"date",label:"Journey Date",type:"date",isValid:ee.isValid,value:ee.value,onChange:function(e){te({type:"USER_INPUT",val:e.target.value})},onBlur:function(){te({type:"INPUT_BLUR"})},max:H()().format("YYYY-MM-DD")})]}),!e.signUpFlag&&Object(k.jsxs)("div",{className:L.a.action,children:[Object(k.jsx)(S,{type:"submit",className:L.a.btn,children:"Sign in"}),Object(k.jsx)(O.b,{})]}),e.signUpFlag&&Object(k.jsxs)("div",{className:L.a.action,children:[Object(k.jsx)(S,{type:"submit",className:L.a.btn,children:"Sign up"}),Object(k.jsx)(O.b,{})]})]})]})},ee=a(32),te=a.n(ee),ae=a(16),se=a.n(ae),ne=function(e){var t=Object(r.b)();return Object(k.jsxs)("header",{className:se.a.header,children:[Object(k.jsx)("div",{className:se.a.logo,children:"Alien Propulsion"}),Object(k.jsx)("nav",{className:se.a.nav,children:Object(k.jsxs)("ul",{children:[Object(k.jsx)("li",{children:Object(k.jsx)(c.c,{to:"/home",className:function(e){return e.isActive?se.a.active:""},children:Object(k.jsx)("img",{src:"data:image/png;base64,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",alt:""})})}),Object(k.jsx)("li",{children:Object(k.jsx)(c.c,{to:"/home/myBookings",className:function(e){return e.isActive?se.a.active:""},children:"My Bookings"})}),Object(k.jsx)("li",{children:Object(k.jsx)(c.c,{to:"/home/myProfile",className:function(e){return e.isActive?se.a.active:""},children:"My Profile"})}),Object(k.jsx)("li",{children:Object(k.jsx)(c.c,{to:"/login",className:function(e){return e.isActive?se.a.active:""},onClick:function(){t(o.LoginStateHandler()),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("userId")},children:"Logout"})})]})})]})},ce=function(e){return Object(k.jsxs)(x.Fragment,{children:[Object(k.jsx)(ne,{}),Object(k.jsx)("main",{className:te.a.main,children:e.children})]})},re=a(6),le=a.n(re),ie=a(26),oe=a.n(ie);var de=function(e){return Object(k.jsx)("div",{className:oe.a.shipdate,children:Object(k.jsxs)("div",{className:oe.a.shipDate__month,children:[e.duration," hrs"]})})},ue=a(23),je=a.n(ue);a(44);var be=function(e){var t="card "+e.className;return Object(k.jsx)("div",{className:t,children:e.children})};var pe=function(e){var t=Object(O.h)();return Object(k.jsx)("li",{children:Object(k.jsxs)(be,{className:je.a.ship,children:[Object(k.jsx)(de,{duration:e.duration}),Object(k.jsx)("div",{className:je.a.ship__description,children:Object(k.jsx)("h2",{children:e.name})}),Object(k.jsxs)("div",{className:je.a.ship__price,children:["$",e.price]}),Object(k.jsx)(S,{id:e.id,type:"submit",className:R.a.ship_button,onClick:function(e){t("/home/booking/".concat(e.target.id))},children:"Book"})]})})},he=a(27),Oe=a.n(he);var me=function(e){return 0===e.ships.length?Object(k.jsx)("h3",{className:Oe.a.ship__fallback,children:"No Ships found!"}):Object(k.jsx)("ul",{className:Oe.a.shiplist,children:e.ships.map((function(e){return Object(k.jsx)(pe,{id:e.shipId,name:e.shipName,price:e.price,duration:e.duration},e.shipId)}))})};var fe=function(){var e=Object(r.b)(),t=Object(x.useState)({from:!0,to:!0,toNotMatching:!0,class:!0,date:!0}),a=Object(h.a)(t,2),s=a[0],n=a[1],c=Object(x.useRef)(),l=Object(x.useRef)(),i=Object(x.useRef)(),o=Object(x.useRef)(),d=M(),u=d.isLoading,b=(d.error,d.sendRequest),p=d.response,O=(d.resetError,d.resetResponse,function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b({url:"http://localhost:8080/api/protected/searchShips",method:"post",headers:{"Content-Type":"application/json"},body:{from:t.enteredFrom,to:t.enteredTo,shipClass:t.enteredClass,journeyDate:t.enteredDate},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f="".concat(P.a.control," ").concat(!0===s.from?"":P.a.invalid),y="".concat(P.a.control," ").concat(!0===s.to?"":P.a.invalid),g="".concat(P.a.control," ").concat(!0===s.class?"":P.a.invalid),N="".concat(P.a.control," ").concat(!0===s.date?"":P.a.invalid);return u?Object(k.jsx)("div",{className:"centered",children:Object(k.jsx)(T,{})}):Object(k.jsxs)("div",{children:[Object(k.jsx)(ce,{children:Object(k.jsxs)("section",{className:le.a.summary,children:[Object(k.jsx)("h3",{className:le.a.heading,children:"Book a Ship"}),Object(k.jsxs)("form",{onSubmit:function(t){t.preventDefault();var a=c.current.value,s=l.current.value,r=i.current.value,d=o.current.value,u="none"!==a.trim(),b=""!==s.trim(),p=s.trim()!==a.trim(),h=""!==r.trim(),m=""!==d.trim();if(n({from:u,to:b,toNotMatching:p,class:h,date:m}),u&&b&&h&&p&&m){var f={enteredFrom:a,enteredTo:s,enteredClass:r,enteredDate:d};e(j.UpdateUserInputs({from:a,to:s,class:r,journeyDate:d})),n({from:!0,to:!0,toNotMatching:!0,class:!0,date:!0}),O(f),c.current.value="none",l.current.value="",i.current.value="",o.current.value=""}},children:[!s.from&&Object(k.jsx)("p",{className:le.a.error,children:"Please select an Origin!"}),Object(k.jsxs)("div",{className:f,children:[Object(k.jsx)("label",{children:"From"}),Object(k.jsxs)("select",{ref:c,className:le.a.select,name:"fromList",id:"from",children:[Object(k.jsx)("option",{value:"none",style:{color:"grey"},children:"Select an Option"}),Object(k.jsx)("option",{value:"Earth",style:{color:"black"},children:"Earth"}),Object(k.jsx)("option",{value:"Mars",style:{color:"black"},children:"Mars"}),Object(k.jsx)("option",{value:"Moon",style:{color:"black"},children:"Moon"}),Object(k.jsx)("option",{value:"Ceres",style:{color:"black"},children:"Ceres"}),Object(k.jsx)("option",{value:"Europa",style:{color:"black"},children:"Europa"}),Object(k.jsx)("option",{value:"Titan",style:{color:"black"},children:"Titan"}),Object(k.jsx)("option",{value:"EB-15",style:{color:"black"},children:"EB-15"}),Object(k.jsx)("option",{value:"ISS",style:{color:"black"},children:"ISS"}),Object(k.jsx)("option",{value:"Kepler-186F",style:{color:"black"},children:"Kepler-186F"})]})]}),!s.to&&Object(k.jsx)("p",{className:le.a.error,children:"Please select a Destination!"}),!s.toNotMatching&&Object(k.jsx)("p",{className:le.a.error,children:"Destination cannot be the same as From!"}),Object(k.jsxs)("div",{className:y,children:[Object(k.jsx)("label",{children:"To"}),Object(k.jsxs)("select",{ref:l,className:le.a.select,name:"toList",id:"to",children:[Object(k.jsx)("option",{value:"",style:{color:"grey"},children:"Select an Option"}),Object(k.jsx)("option",{value:"Earth",style:{color:"black"},children:"Earth"}),Object(k.jsx)("option",{value:"Mars",style:{color:"black"},children:"Mars"}),Object(k.jsx)("option",{value:"Moon",style:{color:"black"},children:"Moon"}),Object(k.jsx)("option",{value:"Ceres",style:{color:"black"},children:"Ceres"}),Object(k.jsx)("option",{value:"Europa",style:{color:"black"},children:"Europa"}),Object(k.jsx)("option",{value:"Titan",style:{color:"black"},children:"Titan"}),Object(k.jsx)("option",{value:"EB-15",style:{color:"black"},children:"EB-15"}),Object(k.jsx)("option",{value:"ISS",style:{color:"black"},children:"ISS"}),Object(k.jsx)("option",{value:"Kepler-186F",style:{color:"black"},children:"Kepler-186F"})]})]}),!s.class&&Object(k.jsx)("p",{className:le.a.error,children:"Please select a Class!"}),Object(k.jsxs)("div",{className:g,children:[Object(k.jsx)("label",{children:"Class"}),Object(k.jsxs)("select",{ref:i,className:le.a.select,name:"classList",id:"class",children:[Object(k.jsx)("option",{value:"",style:{color:"grey"},children:"Select an Option"}),Object(k.jsx)("option",{value:"Economy",style:{color:"black"},children:"Economy"}),Object(k.jsx)("option",{value:"Premium",style:{color:"black"},children:"Premium"}),Object(k.jsx)("option",{value:"Executive",style:{color:"black"},children:"Executive"})]})]}),!s.date&&Object(k.jsx)("p",{className:le.a.error,children:"Please select the Journey Date!"}),Object(k.jsxs)("div",{className:N,children:[Object(k.jsx)("label",{htmlFor:"date",children:"Journey Date"}),Object(k.jsx)("input",{ref:o,id:"date",label:"Journey Date",type:"date",min:H()().format("YYYY-MM-DD")})]}),Object(k.jsx)("div",{className:le.a.action,children:Object(k.jsx)(S,{type:"submit",className:le.a.actions,children:"Search Ships"})})]})]})}),Object(k.jsx)("section",{className:le.a.ships,children:Object(k.jsx)("div",{children:Object(k.jsx)(me,{ships:p})})})]})},ve=a(4),xe=a.n(ve),ye=null,ge=null;var Ne=function(){var e=Object(O.h)(),t=M(),a=t.isLoading,s=(t.error,t.sendRequest),n=t.response,c=(t.resetError,t.resetResponse,M()),l=c.isLoading,i=c.error,o=c.sendRequest,d=c.response,u=c.resetError,j=c.resetResponse,b=M(),p=b.isLoading,f=b.error,g=b.sendRequest,N=b.response,V=b.resetError,R=b.resetResponse,C=Object(x.useState)(!1),E=Object(h.a)(C,2),U=E[0],w=E[1],A=Object(x.useState)(n.userName),B=Object(h.a)(A,2),D=B[0],F=B[1],q=Object(x.useState)(n.basePlanet),W=Object(h.a)(q,2),J=W[0],z=W[1],Y=Object(x.useState)(n.dob),Q=Object(h.a)(Y,2),Z=Q[0],K=Q[1],G=Object(x.useState)(""),$=Object(h.a)(G,2),ee=$[0],te=$[1],ae=Object(x.useState)(""),se=Object(h.a)(ae,2),ne=se[0],re=se[1],le=Object(x.useState)(""),ie=Object(h.a)(le,2),oe=ie[0],de=ie[1],ue=Object(x.useState)(!1),je=Object(h.a)(ue,2),be=je[0],pe=je[1],he=Object(r.c)((function(e){return e.login.userId})),Oe=Object(x.useRef)(),me=Object(x.useRef)(),fe=Object(x.useRef)(),ve=Object(x.useRef)(),Ne=Object(x.useRef)(),ke=Object(x.useRef)(),_e=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({url:"http://localhost:8080/api/protected/fetchProfileDetails",method:"post",headers:{"Content-Type":"application/json"},body:{email:t.userEmail},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o({url:"http://localhost:8080/api/protected/saveUserDetails",method:"post",headers:{"Content-Type":"application/json"},body:{email:t.userEmail,name:t.userName,basePlanet:t.basePlanet,dob:t.dob},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g({url:"http://localhost:8080/api/protected/changePassword",method:"post",headers:{"Content-Type":"application/json"},body:{userEmail:t.userEmail,oldPassword:t.oldPsw,newPassword:t.newPsw,confirmNewPassword:t.confirmNewPsw},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Se(){w(!1)}function Ce(){V(),R()}Object(x.useEffect)((function(){F(n.userName),z(n.basePlanet),K(n.dob)}),[n.userName,n.basePlanet,n.dob]),Object(x.useEffect)((function(){_e({userEmail:he})}),[]),Object(x.useEffect)((function(){0===d.responseCode&&(Se(),e("/home/myProfile"))}),[d.responseMessage,e]),Object(x.useEffect)((function(){0===d.responseCode&&_e({userEmail:he})}),[d.responseMessage]),void 0!==N.responseCode&&(ye=N.responseCode,ge=N.responseMessage,pe(!1),Ce());var Pe=Object(k.jsx)("div",{className:xe.a.actions,children:Object(k.jsx)(S,{className:xe.a.btn,onClick:function(){u(),j(),console.log(d.responseMessage),void 0===d.responseMessage&&e("/home")},children:"Close"})}),Ie=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:xe.a.total,children:Object(k.jsx)("span",{children:d.responseMessage})})}),Ee=Object(k.jsx)("div",{className:xe.a.actions,children:Object(k.jsx)(S,{className:xe.a.btn,onClick:function(){1===ye?pe(!0):0===ye&&(ye=null,ge=null,e("/home"))},children:"Okay"})}),Le=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:xe.a.total,children:Object(k.jsxs)("span",{children:[N.responseMessage,ge]})})}),Me=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:xe.a.total,children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Re({userEmail:he,oldPsw:ee,newPsw:ne,confirmNewPsw:oe})},children:[Object(k.jsx)(I,{ref:ve,id:"oldPsw",label:"Old Password :",type:"password",value:ee,onChange:function(e){te(e.target.value)}}),Object(k.jsx)(I,{ref:Ne,id:"newPsw",label:"New Password :",type:"password",value:ne,onChange:function(e){re(e.target.value)}}),Object(k.jsx)(I,{ref:ke,id:"conNewPsw",label:"Confirm New Password :",type:"password",value:oe,onChange:function(e){de(e.target.value)}}),Object(k.jsx)(S,{className:xe.a.button,type:"submit",children:"Submit"}),Object(k.jsx)(S,{className:xe.a.button,type:"button",onClick:function(){pe(!1),Ce()},children:"Cancel"})]})})});return a||l||p?Object(k.jsx)("div",{className:"centered",children:Object(k.jsx)(T,{})}):Object(k.jsx)("div",{children:Object(k.jsxs)(ce,{children:[be&&Object(k.jsx)(X,{children:Me}),(f||void 0!==N.responseCode||0===ye)&&Object(k.jsxs)(X,{children:[Le,Ee]}),(i||void 0!==d.responseCode)&&Object(k.jsxs)(X,{children:[Ie,Pe]}),!U&&Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:xe.a.h2Profile,children:"My Profile"}),Object(k.jsxs)("div",{className:xe.a.control,children:[Object(k.jsx)("label",{children:"Name : "}),Object(k.jsx)("label",{children:n.userName})]}),Object(k.jsxs)("div",{className:xe.a.control,children:[Object(k.jsx)("label",{children:"E-Mail : "}),Object(k.jsx)("label",{children:n.userEmail})]}),Object(k.jsxs)("div",{className:xe.a.control,children:[Object(k.jsx)("label",{children:"Password : "}),Object(k.jsx)("label",{children:n.userPassword})]}),Object(k.jsxs)("div",{className:xe.a.control,children:[Object(k.jsx)("label",{children:"Base Planet : "}),Object(k.jsx)("label",{children:n.basePlanet})]}),Object(k.jsxs)("div",{className:xe.a.control,children:[Object(k.jsx)("label",{children:"Date of Birth : "}),Object(k.jsx)("label",{children:n.dob})]}),Object(k.jsxs)("div",{className:L.a.action,children:[Object(k.jsx)(S,{type:"button",className:xe.a.button,onClick:function(){w(!0)},children:"Edit"}),Object(k.jsx)(S,{type:"button",className:xe.a.button,onClick:function(){pe(!0)},children:"Change Password"}),Object(k.jsx)(S,{type:"button",className:xe.a.button,onClick:function(){Se(),e("/home")},children:"Back"})]})]}),U&&Object(k.jsx)(_,{className:L.a.login,children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Ve({userEmail:he,userName:D,basePlanet:J,dob:Z})},children:[Object(k.jsx)(I,{ref:Oe,id:"name",label:"Name",type:"text",value:D,onChange:function(e){F(e.target.value)}}),Object(k.jsxs)("div",{className:P.a.control,children:[Object(k.jsx)("label",{children:"Base Planet"}),Object(k.jsxs)("select",{ref:me,className:L.a.select,name:"planetList",id:"planets",value:J,onChange:function(e){z(e.target.value)},children:[Object(k.jsx)("option",{value:"",style:{color:"grey"},children:"Select an Option"}),Object(k.jsx)("option",{value:"Earth",style:{color:"black"},children:"Earth"}),Object(k.jsx)("option",{value:"Mars",style:{color:"black"},children:"Mars"}),Object(k.jsx)("option",{value:"Moon",style:{color:"black"},children:"Moon"}),Object(k.jsx)("option",{value:"Ceres",style:{color:"black"},children:"Ceres"}),Object(k.jsx)("option",{value:"Europa",style:{color:"black"},children:"Europa"}),Object(k.jsx)("option",{value:"Titan",style:{color:"black"},children:"Titan"}),Object(k.jsx)("option",{value:"EB-15",style:{color:"black"},children:"EB-15"}),Object(k.jsx)("option",{value:"ISS",style:{color:"black"},children:"ISS"}),Object(k.jsx)("option",{value:"Kepler-186F",style:{color:"black"},children:"Kepler-186F"})]})]}),Object(k.jsxs)("div",{className:P.a.control,children:[Object(k.jsx)("label",{htmlFor:"date",children:"Date of Birth"}),Object(k.jsx)("input",{ref:fe,id:"date",label:"Date of Birth",type:"date",value:Z,onChange:function(e){K(e.target.value)},max:H()().format("YYYY-MM-DD")})]}),Object(k.jsxs)("div",{className:L.a.action,children:[Object(k.jsx)(S,{type:"submit",className:xe.a.button,children:"Save"}),Object(k.jsx)(S,{type:"button",className:xe.a.button,onClick:Se,children:"Cancel"})]})]})})]})})},ke=!1,_e=!1,Ve=!1,Re=3;var Se=function(){var e=Object(O.h)(),t=localStorage.getItem("userId"),a=Object(O.i)().shipId,s=Object(r.c)((function(e){return e.user.from})),n=Object(r.c)((function(e){return e.user.to})),c=Object(r.c)((function(e){return e.user.class})),l=Object(r.c)((function(e){return e.user.journeyDate})),i=M(),o=i.isLoading,d=i.error,u=i.sendRequest,j=i.response,b=i.resetError,p=i.resetResponse,f=M(),g=f.isLoading,N=f.error,_=f.sendRequest,V=f.response,R=f.resetError,C=f.resetResponse,P=M(),E=P.isLoading,U=P.error,w=P.sendRequest,A=P.response,B=(P.resetError,P.resetResponse),D=Object(x.useRef)(),F=Object(x.useRef)(),q=Object(x.useRef)(),W=Object(x.useRef)(),H=Object(x.useRef)(),J=Object(x.useRef)(),z=Object(x.useRef)(),Y=Object(x.useState)(""),Q=Object(h.a)(Y,2),Z=Q[0],K=Q[1],G=Object(x.useState)(""),$=Object(h.a)(G,2),ee=$[0],te=$[1],ae=Object(x.useState)(""),se=Object(h.a)(ae,2),ne=se[0],re=se[1],ie=Object(x.useState)(""),oe=Object(h.a)(ie,2),de=oe[0],ue=oe[1],je=Object(x.useState)(""),be=Object(h.a)(je,2),pe=be[0],he=be[1],Oe=Object(x.useState)(""),me=Object(h.a)(Oe,2),fe=me[0],ve=me[1],ye=Object(x.useState)(""),ge=Object(h.a)(ye,2),Ne=ge[0],Se=ge[1],Ce=Object(x.useState)(1),Pe=Object(h.a)(Ce,2),Ie=Pe[0],Ee=Pe[1],Le=Object(x.useState)({userNameIsValid:!0,ageIsValid:!0,emailIsValid:!0,phoneNumberIsValid:!0,user2NameIsValid:!0,age2IsValid:!0}),Me=Object(h.a)(Le,2),Ue=Me[0],we=Me[1],Te=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u({url:"http://localhost:8080/api/protected/verifyUser",method:"post",headers:{"Content-Type":"application/json"},body:{userEmail:t.email},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_({url:"http://localhost:8080/api/protected/verifyOtp",method:"post",headers:{"Content-Type":"application/json"},body:{otp:t.otp,userEmail:t.email,deleteFlag:t.deleteFlag},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w({url:"http://localhost:8080/api/protected/generateEticket",method:"post",headers:{"Content-Type":"application/json"},body:{userName:t.userName,user2Name:t.user2Name,userEmail:t.email,userAge:t.age,user2Age:t.age2,shipId:t.shipId,shipClass:t.shipClass,boardingStation:t.boardingStation,arrivalStation:t.arrivalStation,journeyDate:t.journeyDate,userId:t.userId},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function De(){B(),e("/home")}function Fe(){R(),C()}0===V.responseCode&&(Be({userName:Z,user2Name:pe,email:ne,age:ee,age2:fe,shipId:a,shipClass:c,boardingStation:s,arrivalStation:n,journeyDate:l,userId:t}),C(),b(),p());var qe=Object(k.jsx)("div",{className:xe.a.actions,children:Object(k.jsx)(S,{className:xe.a.btn,onClick:De,children:"Okay"})}),Xe=Object(k.jsxs)("div",{className:xe.a.actions,children:[0!==Re&&Object(k.jsxs)(S,{className:xe.a.btn,onClick:function(){Fe()},children:["Retry(",Re,")"]}),0===Re&&Object(k.jsx)(S,{className:xe.a.btn,onClick:function(){Fe(),Re=3,De(),Ae({email:ne,deleteFlag:"Y"})},children:"Close"})]}),We=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:xe.a.total,children:Object(k.jsx)("span",{children:A.responseMessage})})}),He=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:xe.a.total,children:Object(k.jsx)("span",{children:V.responseMessage})})}),Je=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:xe.a.total,children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault(),Ae({otp:Ne,email:ne}),Re-=1},children:[Object(k.jsx)(I,{ref:z,id:"otp",label:"Please enter your OTP :",type:"number",value:Ne,onChange:function(e){Se(e.target.value)}}),Object(k.jsx)(S,{className:xe.a.btn,type:"submit",children:"Submit"})]})})});return o?Object(k.jsxs)("div",{className:"centered",children:[Object(k.jsx)("h2",{children:"Please wait, Sending verification mail..."}),Object(k.jsx)(T,{})]}):g?Object(k.jsxs)("div",{className:"centered",children:[Object(k.jsx)("h2",{children:"Verifying..."}),Object(k.jsx)(T,{})]}):E?Object(k.jsxs)("div",{className:"centered",children:[Object(k.jsx)("h2",{children:"Making your Reservation, please do not leave this page..."}),Object(k.jsx)(T,{})]}):Object(k.jsxs)(ce,{children:[(d||0===j.responseCode&&1!==V.responseCode)&&Object(k.jsx)(X,{onClose:null,children:Je}),(U||0===A.responseCode)&&Object(k.jsxs)(X,{onClose:null,children:[We,qe]}),(N||1===V.responseCode)&&Object(k.jsxs)(X,{onClose:null,children:[He,Xe]}),Object(k.jsx)("section",{className:le.a.summary,children:Object(k.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=""!==Z.trim(),a=ee.trim()>0,s=ne.trim().includes("@"),n=""!==de.trim();if(we({userNameIsValid:t,ageIsValid:a,emailIsValid:s,phoneNumberIsValid:n}),Ve=ke=t&&a&&s&&n,2===Ie){var c=""!==pe.trim(),r=fe.trim()>0;we({userNameIsValid:t,ageIsValid:a,emailIsValid:s,phoneNumberIsValid:n,user2NameIsValid:c,age2IsValid:r}),_e=t&&a&&s&&n&&c&&r,Ve=ke&&_e}Ve&&(we({userNameIsValid:!0,ageIsValid:!0,emailIsValid:!0,phoneNumberIsValid:!0,user2NameIsValid:!0,age2IsValid:!0}),Te({email:ne}))},children:[Object(k.jsx)("h3",{className:xe.a.h2,children:"Passenger 1 - Details"}),!Ue.userNameIsValid&&Object(k.jsx)("p",{className:le.a.error,children:"Please enter your Name."}),Object(k.jsx)(I,{ref:D,id:"name1",label:"Name",type:"text",value:Z,onChange:function(e){K(e.target.value)}}),!Ue.ageIsValid&&Object(k.jsx)("p",{className:le.a.error,children:"Please enter your Age."}),Object(k.jsx)(I,{ref:F,id:"age1",label:"Age",type:"number",value:ee,onChange:function(e){te(e.target.value)}}),!Ue.emailIsValid&&Object(k.jsx)("p",{className:le.a.error,children:"Please enter your Email."}),Object(k.jsx)(I,{ref:q,id:"email",label:"Email",type:"text",value:ne,onChange:function(e){re(e.target.value)}}),!Ue.phoneNumberIsValid&&Object(k.jsx)("p",{className:le.a.error,children:"Please enter your Mobile Number."}),Object(k.jsx)(I,{ref:W,id:"phoneNumber",label:"Mobile",type:"number",value:de,onChange:function(e){ue(e.target.value)}}),2===Ie&&Object(k.jsx)("h3",{className:xe.a.h2,children:"Passenger 2 - Details"}),2===Ie&&!Ue.user2NameIsValid&&Object(k.jsx)("p",{className:le.a.error,children:"Please enter your Name."}),2===Ie&&Object(k.jsx)(I,{ref:H,id:"name2",label:"Name",type:"text",value:pe,onChange:function(e){he(e.target.value)}}),2===Ie&&!Ue.age2IsValid&&Object(k.jsx)("p",{className:le.a.error,children:"Please enter your Age."}),2===Ie&&Object(k.jsx)(I,{ref:J,id:"age2",label:"Age",type:"number",value:fe,onChange:function(e){ve(e.target.value)}}),Object(k.jsxs)("div",{className:L.a.action,children:[Object(k.jsx)(S,{type:"submit",className:xe.a.btn,children:"Book"}),Ie<2&&Object(k.jsx)(S,{type:"button",className:xe.a.btn,onClick:function(){Ee(Ie+1),console.log(Ue.user2NameIsValid),console.log(Ue.userNameIsValid)},children:"Add Passenger"}),Object(k.jsx)(S,{type:"button",className:xe.a.btn,onClick:function(){e("/home")},children:"Cancel"})]})]})})]})},Ce=a(15),Pe=a.n(Ce),Ie=a(28),Ee=a.n(Ie),Le=a(20),Me=a.n(Le);var Ue=function(e){var t=e.journeyDate.toLocaleString("en-US",{month:"long"}),a=e.journeyDate.toLocaleString("en-US",{day:"2-digit"}),s=e.journeyDate.getFullYear();return Object(k.jsxs)("div",{className:Me.a.ticketDate,children:[Object(k.jsx)("div",{className:Me.a.ticketDate__month,children:t}),Object(k.jsx)("div",{className:Me.a.ticketDate__year,children:s}),Object(k.jsx)("div",{className:Me.a.ticketDate__day,children:a})]})};var we=function(e){return Object(k.jsx)("li",{children:Object(k.jsxs)(be,{className:Ee.a.ship,children:[Object(k.jsx)(Ue,{journeyDate:e.journeyDate}),Object(k.jsxs)("div",{children:[Object(k.jsx)("h1",{children:e.name}),Object(k.jsxs)("h2",{children:[e.boarding," ------------- ",e.arrival]}),Object(k.jsxs)("h2",{children:[e.duration," hrs"]})]}),Object(k.jsxs)("div",{className:Ee.a.ship__price,children:["$",e.price]}),Object(k.jsx)(S,{id:e.id,type:"button",className:R.a.ticket_button,onClick:function(t){e.cancellationHandler(t.target.id)},children:"Cancel"})]})})};var Te=function(e){return 0===e.bookingList.length?Object(k.jsx)("h3",{className:Pe.a.ship__fallback,children:"No bookings available!"}):Object(k.jsx)("ul",{className:Pe.a.shiplist,children:e.bookingList.map((function(t){return Object(k.jsx)(we,{id:t.bookingId,name:t.shipName,boarding:t.boarding,arrival:t.arrival,journeyDate:new Date(t.journeyDate),duration:t.duration,price:t.price,cancellationHandler:e.cancellationHandler},t.bookingId)}))})},Ae=null;var Be=function(){var e=Object(r.c)((function(e){return e.login.userId})),t=M(),a=t.isLoading,s=(t.error,t.sendRequest),n=t.response,c=(t.resetError,t.resetResponse,M()),l=c.isLoading,i=(c.error,c.sendRequest),o=c.response,d=c.resetError,u=c.resetResponse,j=Object(x.useState)(!1),b=Object(h.a)(j,2),p=b[0],O=b[1],f=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s({url:"http://localhost:8080/api/protected/fetchBookingDetails",method:"post",headers:{"Content-Type":"application/json"},body:{userEmail:t.userEmail},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(m.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i({url:"http://localhost:8080/api/protected/cancelTicket",method:"post",headers:{"Content-Type":"application/json"},body:{bookingId:t.ticketId},errorMsg:"Request failed!"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(x.useEffect)((function(){f({userEmail:e})}),[]);var N=Object(k.jsxs)("div",{className:Pe.a.actions,children:[Object(k.jsx)(S,{className:R.a.button,onClick:function(){g({ticketId:Ae}),O(!1)},children:"Yes"}),Object(k.jsx)(S,{className:R.a.button,onClick:function(){O(!1),Ae=null},children:"No"})]}),_=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:Pe.a.total,children:Object(k.jsx)("span",{children:"ARE YOU SURE? REFUNDS CAN TAKE UP TO 5-7 DAYS."})})}),V=Object(k.jsx)("div",{className:Pe.a.actions,children:Object(k.jsx)(S,{className:R.a.button,onClick:function(){f({userEmail:e}),u(),d()},children:"Close"})}),C=Object(k.jsx)(y.a.Fragment,{children:Object(k.jsx)("div",{className:Pe.a.total,children:Object(k.jsx)("span",{children:o.responseMessage})})});return a||l?Object(k.jsx)("div",{className:"centered",children:Object(k.jsx)(T,{})}):Object(k.jsxs)(ce,{children:[p&&Object(k.jsxs)(X,{children:[_,N]}),0===o.responseCode&&Object(k.jsxs)(X,{children:[C,V]}),Object(k.jsx)(Te,{bookingList:n,cancellationHandler:function(e){Ae=e,O(!0)}})]})};var De=function(){var e=Object(O.h)(),t=Object(r.b)(),a=Object(x.useState)(!0),s=Object(h.a)(a,2),n=s[0],l=s[1],i=Object(x.useState)(!0),d=Object(h.a)(i,2),u=d[0],j=d[1],b=Object(r.c)((function(e){return e.login.isAuthenticated}));function p(){l(!0),j(!0)}return Object(x.useEffect)((function(){b&&e("/home")}),[b]),Object(x.useEffect)((function(){b||e("/login")}),[b]),Object(x.useEffect)((function(){var e=localStorage.getItem("isLoggedIn"),a=localStorage.getItem("userId");e&&(t(o.LoginStateHandler()),t(o.UpdateUserId(a)))}),[t]),Object(k.jsxs)(O.e,{children:[Object(k.jsx)(O.c,{path:"/",element:Object(k.jsx)(O.a,{replace:!0,to:"/login"})}),Object(k.jsx)(O.c,{path:"/login",element:Object(k.jsx)($,{}),children:Object(k.jsx)(O.c,{path:"",element:Object(k.jsx)(c.b,{style:{textDecoration:"none"},className:R.a.button,to:"/signUp",onClick:function(){j(!1)},children:"New User?"})})}),Object(k.jsx)(O.c,{path:"/signUp",element:Object(k.jsx)($,{signUpFlag:n,postSignUp:p,loginF:u}),children:Object(k.jsx)(O.c,{path:"",element:Object(k.jsx)(c.b,{style:{textDecoration:"none"},className:R.a.button,to:"/login",onClick:p,children:"Back"})})}),Object(k.jsx)(O.c,{path:"/home",element:Object(k.jsx)(fe,{})}),Object(k.jsx)(O.c,{path:"/home/myProfile",element:Object(k.jsx)(Ne,{})}),Object(k.jsx)(O.c,{path:"/home/booking/:shipId",element:Object(k.jsx)(Se,{})}),Object(k.jsx)(O.c,{path:"/home/myBookings",element:Object(k.jsx)(Be,{})})]})};n.a.render(Object(k.jsx)(c.a,{children:Object(k.jsx)(r.a,{store:p,children:Object(k.jsx)(De,{})})}),document.getElementById("root"))}],[[45,1,2]]]);
//# sourceMappingURL=main.cd75f88f.chunk.js.map