{"ast":null,"code":"var _jsxFileName = \"D:\\\\React_Projects\\\\space-ticket-booking-React-main\\\\src\\\\components\\\\Home\\\\Home.js\",\n    _s = $RefreshSig$();\n\nimport Layout from \"../layout/Layout\";\nimport { useRef, useState } from \"react\";\nimport classes from \"../Home/Home.module.css\";\nimport styles from \"../CommonInput/Input.module.css\";\nimport Button from \"../UI/Button/Button\";\nimport useHttp from \"../../hooks/use-http\";\nimport ShipList from \"./ShipList\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nimport moment from \"moment\";\nimport { useDispatch } from \"react-redux\";\nimport { userInputActions } from \"../../store/userInputsSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Home() {\n  _s();\n\n  //************DECLARATIONS************//\n  const dispatch = useDispatch(); //STATES\n\n  const [formInputsValidity, setFormInputsValidity] = useState({\n    from: true,\n    to: true,\n    toNotMatching: true,\n    class: true,\n    date: true\n  }); //REFS\n\n  const fromInputRef = useRef();\n  const toInputRef = useRef();\n  const classInputRef = useRef();\n  const dateInputRef = useRef();\n  const {\n    isLoading,\n    sendRequest: sendTaskRequest,\n    response\n  } = useHttp(); //************API CALLS************//\n  //Request to backend for login and sign-up\n\n  const SearchShipsHandler = async requestJson => {\n    sendTaskRequest({\n      url: \"https://space-ticket-booking-java.herokuapp.com/api/protected/searchShips\",\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: {\n        from: requestJson.enteredFrom,\n        to: requestJson.enteredTo,\n        shipClass: requestJson.enteredClass,\n        journeyDate: requestJson.enteredDate\n      },\n      errorMsg: \"Request failed!\"\n    });\n  }; //************ACTION HANDLERS************//\n\n\n  function submitHandler(event) {\n    event.preventDefault();\n    const enteredFrom = fromInputRef.current.value;\n    const enteredTo = toInputRef.current.value;\n    const enteredClass = classInputRef.current.value;\n    const enteredDate = dateInputRef.current.value;\n    const enteredFromIsValid = enteredFrom.trim() !== \"none\";\n    const enteredToIsValid = enteredTo.trim() !== \"\";\n    const enteredToIsNotMatching = enteredTo.trim() !== enteredFrom.trim();\n    const enteredClassIsValid = enteredClass.trim() !== \"\";\n    const enteredDateIsValid = enteredDate.trim() !== \"\";\n    setFormInputsValidity({\n      from: enteredFromIsValid,\n      to: enteredToIsValid,\n      toNotMatching: enteredToIsNotMatching,\n      class: enteredClassIsValid,\n      date: enteredDateIsValid\n    });\n    const formIsValid = enteredFromIsValid && enteredToIsValid && enteredClassIsValid && enteredToIsNotMatching && enteredDateIsValid;\n\n    if (formIsValid) {\n      const requestJson = {\n        enteredFrom,\n        enteredTo,\n        enteredClass,\n        enteredDate\n      };\n      dispatch(userInputActions.UpdateUserInputs({\n        from: enteredFrom,\n        to: enteredTo,\n        class: enteredClass,\n        journeyDate: enteredDate\n      }));\n      setFormInputsValidity({\n        from: true,\n        to: true,\n        toNotMatching: true,\n        class: true,\n        date: true\n      });\n      SearchShipsHandler(requestJson);\n      fromInputRef.current.value = \"none\";\n      toInputRef.current.value = \"\";\n      classInputRef.current.value = \"\";\n      dateInputRef.current.value = \"\";\n    }\n  }\n\n  const fromControlClasses = `${styles.control} ${formInputsValidity.from === true ? \"\" : styles.invalid}`;\n  const toControlClasses = `${styles.control} ${formInputsValidity.to === true ? \"\" : styles.invalid}`;\n  const classControlClasses = `${styles.control} ${formInputsValidity.class === true ? \"\" : styles.invalid}`;\n  const dateControlClasses = `${styles.control} ${formInputsValidity.date === true ? \"\" : styles.invalid}`; //************LOADING SPINNERS************//\n\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"centered\",\n      children: /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Layout, {\n      children: /*#__PURE__*/_jsxDEV(\"section\", {\n        className: classes.summary,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: classes.heading,\n          children: \"Book a Ship\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitHandler,\n          children: [!formInputsValidity.from && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: classes.error,\n            children: \"Please select an Origin!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: fromControlClasses,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"From\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: fromInputRef,\n              className: classes.select,\n              name: \"fromList\",\n              id: \"from\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"none\",\n                style: {\n                  color: \"grey\"\n                },\n                children: \"Select an Option\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Earth\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Earth\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Mars\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Mars\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 167,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Moon\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Moon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Ceres\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Ceres\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 173,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Europa\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Europa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Titan\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Titan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Kepler-186F\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Kepler-186F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 13\n          }, this), !formInputsValidity.to && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: classes.error,\n            children: \"Please select a Destination!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 15\n          }, this), !formInputsValidity.toNotMatching && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: classes.error,\n            children: \"Destination cannot be the same as From!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: toControlClasses,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"To\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: toInputRef,\n              className: classes.select,\n              name: \"toList\",\n              id: \"to\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                style: {\n                  color: \"grey\"\n                },\n                children: \"Select an Option\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Earth\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Earth\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Mars\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Mars\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Moon\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Moon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Ceres\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Ceres\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Europa\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Europa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Titan\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Titan\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Kepler-186F\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Kepler-186F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this), !formInputsValidity.class && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: classes.error,\n            children: \"Please select a Class!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classControlClasses,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Class\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              ref: classInputRef,\n              className: classes.select,\n              name: \"classList\",\n              id: \"class\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                style: {\n                  color: \"grey\"\n                },\n                children: \"Select an Option\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 240,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Economy\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Economy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Premium\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Premium\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Executive\",\n                style: {\n                  color: \"black\"\n                },\n                children: \"Executive\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 249,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), !formInputsValidity.date && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: classes.error,\n            children: \"Please select the Journey Date!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: dateControlClasses,\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"date\",\n              children: \"Journey Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              ref: dateInputRef,\n              id: \"date\",\n              label: \"Journey Date\",\n              type: \"date\",\n              min: moment().format(\"YYYY-MM-DD\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.action,\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              type: \"submit\",\n              className: classes.actions,\n              children: \"Search Ships\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: classes.ships,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ShipList, {\n          ships: response\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Home, \"ZExG/6FRO3SDR0SXo1uqgXmJXeA=\", false, function () {\n  return [useDispatch, useHttp];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/React_Projects/space-ticket-booking-React-main/src/components/Home/Home.js"],"names":["Layout","useRef","useState","classes","styles","Button","useHttp","ShipList","LoadingSpinner","moment","useDispatch","userInputActions","Home","dispatch","formInputsValidity","setFormInputsValidity","from","to","toNotMatching","class","date","fromInputRef","toInputRef","classInputRef","dateInputRef","isLoading","sendRequest","sendTaskRequest","response","SearchShipsHandler","requestJson","url","method","headers","body","enteredFrom","enteredTo","shipClass","enteredClass","journeyDate","enteredDate","errorMsg","submitHandler","event","preventDefault","current","value","enteredFromIsValid","trim","enteredToIsValid","enteredToIsNotMatching","enteredClassIsValid","enteredDateIsValid","formIsValid","UpdateUserInputs","fromControlClasses","control","invalid","toControlClasses","classControlClasses","dateControlClasses","summary","heading","error","select","color","format","action","actions","ships"],"mappings":"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","sourcesContent":["import Layout from \"../layout/Layout\";\nimport { useRef, useState } from \"react\";\nimport classes from \"../Home/Home.module.css\";\nimport styles from \"../CommonInput/Input.module.css\";\nimport Button from \"../UI/Button/Button\";\nimport useHttp from \"../../hooks/use-http\";\nimport ShipList from \"./ShipList\";\nimport LoadingSpinner from \"../UI/LoadingSpinner\";\nimport moment from \"moment\";\nimport { useDispatch } from \"react-redux\";\nimport { userInputActions } from \"../../store/userInputsSlice\"\n\nfunction Home() {\n\n  //************DECLARATIONS************//\n\n  const dispatch = useDispatch();\n\n  //STATES\n  const [formInputsValidity, setFormInputsValidity] = useState({\n    from: true,\n    to: true,\n    toNotMatching: true,\n    class: true,\n    date: true,\n  });\n\n  //REFS\n  const fromInputRef = useRef();\n  const toInputRef = useRef();\n  const classInputRef = useRef();\n  const dateInputRef = useRef();\n\n  const {\n    isLoading,\n    sendRequest: sendTaskRequest,\n    response,\n  } = useHttp();\n\n  //************API CALLS************//\n\n  //Request to backend for login and sign-up\n  const SearchShipsHandler = async (requestJson) => {\n    sendTaskRequest({\n      url: \"https://space-ticket-booking-java.herokuapp.com/api/protected/searchShips\",\n      method: \"post\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: {\n        from: requestJson.enteredFrom,\n        to: requestJson.enteredTo,\n        shipClass: requestJson.enteredClass,\n        journeyDate: requestJson.enteredDate,\n      },\n      errorMsg: \"Request failed!\",\n    });\n  };\n\n  //************ACTION HANDLERS************//\n\n  function submitHandler(event) {\n    event.preventDefault();\n\n    const enteredFrom = fromInputRef.current.value;\n    const enteredTo = toInputRef.current.value;\n    const enteredClass = classInputRef.current.value;\n    const enteredDate = dateInputRef.current.value;\n\n    const enteredFromIsValid = enteredFrom.trim() !== \"none\";\n    const enteredToIsValid = enteredTo.trim() !== \"\";\n    const enteredToIsNotMatching = enteredTo.trim() !== enteredFrom.trim();\n    const enteredClassIsValid = enteredClass.trim() !== \"\";\n    const enteredDateIsValid = enteredDate.trim() !== \"\";\n\n    setFormInputsValidity({\n      from: enteredFromIsValid,\n      to: enteredToIsValid,\n      toNotMatching: enteredToIsNotMatching,\n      class: enteredClassIsValid,\n      date: enteredDateIsValid,\n    });\n\n    const formIsValid =\n      enteredFromIsValid &&\n      enteredToIsValid &&\n      enteredClassIsValid &&\n      enteredToIsNotMatching &&\n      enteredDateIsValid;\n\n    if (formIsValid) {\n      const requestJson = {\n        enteredFrom,\n        enteredTo,\n        enteredClass,\n        enteredDate,\n      };\n\n      dispatch(userInputActions.UpdateUserInputs({\n        from : enteredFrom,\n        to : enteredTo,\n        class : enteredClass,\n        journeyDate : enteredDate,\n      }));\n\n      setFormInputsValidity({\n        from: true,\n        to: true,\n        toNotMatching: true,\n        class: true,\n        date: true,\n      });\n      SearchShipsHandler(requestJson);\n      fromInputRef.current.value = \"none\";\n      toInputRef.current.value = \"\";\n      classInputRef.current.value = \"\";\n      dateInputRef.current.value = \"\";\n    }\n  }\n\n  const fromControlClasses = `${styles.control} ${\n    formInputsValidity.from === true ? \"\" : styles.invalid\n  }`;\n  const toControlClasses = `${styles.control} ${\n    formInputsValidity.to === true ? \"\" : styles.invalid\n  }`;\n  const classControlClasses = `${styles.control} ${\n    formInputsValidity.class === true ? \"\" : styles.invalid\n  }`;\n  const dateControlClasses = `${styles.control} ${\n    formInputsValidity.date === true ? \"\" : styles.invalid\n  }`;\n\n  //************LOADING SPINNERS************//\n\n  if (isLoading) {\n    return (\n      <div className=\"centered\">\n        <LoadingSpinner />\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <Layout>\n        <section className={classes.summary}>\n          <h3 className={classes.heading}>Book a Ship</h3>\n          <form onSubmit={submitHandler}>\n            {!formInputsValidity.from && (\n              <p className={classes.error}>Please select an Origin!</p>\n            )}\n            <div className={fromControlClasses}>\n              <label>From</label>\n              <select\n                ref={fromInputRef}\n                className={classes.select}\n                name=\"fromList\"\n                id=\"from\"\n              >\n                <option value=\"none\" style={{ color: \"grey\" }}>\n                  Select an Option\n                </option>\n                <option value=\"Earth\" style={{ color: \"black\" }}>\n                  Earth\n                </option>\n                <option value=\"Mars\" style={{ color: \"black\" }}>\n                  Mars\n                </option>\n                <option value=\"Moon\" style={{ color: \"black\" }}>\n                  Moon\n                </option>\n                <option value=\"Ceres\" style={{ color: \"black\" }}>\n                  Ceres\n                </option>\n                <option value=\"Europa\" style={{ color: \"black\" }}>\n                  Europa\n                </option>\n                <option value=\"Titan\" style={{ color: \"black\" }}>\n                  Titan\n                </option>\n                <option value=\"Kepler-186F\" style={{ color: \"black\" }}>\n                  Kepler-186F\n                </option>\n              </select>\n            </div>\n            {!formInputsValidity.to && (\n              <p className={classes.error}>Please select a Destination!</p>\n            )}\n            {!formInputsValidity.toNotMatching && (\n              <p className={classes.error}>\n                Destination cannot be the same as From!\n              </p>\n            )}\n            <div className={toControlClasses}>\n              <label>To</label>\n              <select\n                ref={toInputRef}\n                className={classes.select}\n                name=\"toList\"\n                id=\"to\"\n              >\n                <option value=\"\" style={{ color: \"grey\" }}>\n                  Select an Option\n                </option>\n                <option value=\"Earth\" style={{ color: \"black\" }}>\n                  Earth\n                </option>\n                <option value=\"Mars\" style={{ color: \"black\" }}>\n                  Mars\n                </option>\n                <option value=\"Moon\" style={{ color: \"black\" }}>\n                  Moon\n                </option>\n                <option value=\"Ceres\" style={{ color: \"black\" }}>\n                  Ceres\n                </option>\n                <option value=\"Europa\" style={{ color: \"black\" }}>\n                  Europa\n                </option>\n                <option value=\"Titan\" style={{ color: \"black\" }}>\n                  Titan\n                </option>\n                <option value=\"Kepler-186F\" style={{ color: \"black\" }}>\n                  Kepler-186F\n                </option>\n              </select>\n            </div>\n            {!formInputsValidity.class && (\n              <p className={classes.error}>Please select a Class!</p>\n            )}\n            <div className={classControlClasses}>\n              <label>Class</label>\n              <select\n                ref={classInputRef}\n                className={classes.select}\n                name=\"classList\"\n                id=\"class\"\n              >\n                <option value=\"\" style={{ color: \"grey\" }}>\n                  Select an Option\n                </option>\n                <option value=\"Economy\" style={{ color: \"black\" }}>\n                  Economy\n                </option>\n                <option value=\"Premium\" style={{ color: \"black\" }}>\n                  Premium\n                </option>\n                <option value=\"Executive\" style={{ color: \"black\" }}>\n                  Executive\n                </option>\n              </select>\n            </div>\n            {!formInputsValidity.date && (\n              <p className={classes.error}>Please select the Journey Date!</p>\n            )}\n            <div className={dateControlClasses}>\n              <label htmlFor=\"date\">Journey Date</label>\n              <input\n                ref={dateInputRef}\n                id=\"date\"\n                label=\"Journey Date\"\n                type=\"date\"\n                min={moment().format(\"YYYY-MM-DD\")}\n              ></input>\n            </div>\n            <div className={classes.action}>\n              <Button type=\"submit\" className={classes.actions} >\n                Search Ships\n              </Button>\n            </div>\n          </form>\n        </section>\n      </Layout>\n      <section className={classes.ships}>\n        <div>\n          <ShipList ships={response} />\n        </div>\n      </section>\n    </div>\n  );\n}\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}