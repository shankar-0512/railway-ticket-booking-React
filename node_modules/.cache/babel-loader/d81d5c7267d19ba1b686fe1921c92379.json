{"ast":null,"code":"import _slicedToArray from\"D:/React JS/space-ticket-booking-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Route,Routes,Navigate,Link,useNavigate}from\"react-router-dom\";import{useSelector}from\"react-redux\";import{loginActions}from\"./store/login-slice\";import{useDispatch}from\"react-redux\";import Login from\"./components/Authentication/Login\";import classes from\"./components/UI/Button/Button.module.css\";import{useState,useEffect}from\"react\";import Home from\"./components/Home/Home\";import MyProfile from\"./components/Profile/MyProfile\";import Booking from\"./components/Ticket Booking/Booking\";import MyBookings from\"./components/Ticket Booking/MyBookings\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var navigate=useNavigate();var dispatch=useDispatch();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),signUpFlag=_useState2[0],setSignUpFlag=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),navigateLoginF=_useState4[0],setNavigateLoginF=_useState4[1];var isAuthenticated=useSelector(function(state){return state.login.isAuthenticated;});function postSignUpHandler(){setSignUpFlag(true);setNavigateLoginF(true);}function resetNavigateLoginF(){setNavigateLoginF(false);}useEffect(function(){if(isAuthenticated){navigate(\"/home\");}},[isAuthenticated]);useEffect(function(){if(!isAuthenticated){navigate(\"/login\");}},[isAuthenticated]);useEffect(function(){var loggedInUser=localStorage.getItem(\"isLoggedIn\");var userId=localStorage.getItem(\"userId\");if(loggedInUser){dispatch(loginActions.LoginStateHandler());dispatch(loginActions.UpdateUserId(userId));}},[dispatch]);return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{replace:true,to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{}),children:/*#__PURE__*/_jsx(Route,{path:\"\",element:/*#__PURE__*/_jsx(Link,{style:{textDecoration:\"none\"},className:classes.button,to:\"/signUp\",onClick:resetNavigateLoginF,children:\"New User?\"})})}),/*#__PURE__*/_jsx(Route,{path:\"/signUp\",element:/*#__PURE__*/_jsx(Login,{signUpFlag:signUpFlag,postSignUp:postSignUpHandler,loginF:navigateLoginF}),children:/*#__PURE__*/_jsx(Route,{path:\"\",element:/*#__PURE__*/_jsx(Link,{style:{textDecoration:\"none\"},className:classes.button,to:\"/login\",onClick:postSignUpHandler,children:\"Back\"})})}),/*#__PURE__*/_jsx(Route,{path:\"/home\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/home/myProfile\",element:/*#__PURE__*/_jsx(MyProfile,{})}),/*#__PURE__*/_jsx(Route,{path:\"/home/booking/:shipId\",element:/*#__PURE__*/_jsx(Booking,{})}),/*#__PURE__*/_jsx(Route,{path:\"/home/myBookings\",element:/*#__PURE__*/_jsx(MyBookings,{})})]});}export default App;","map":{"version":3,"sources":["D:/React JS/space-ticket-booking-app/src/App.js"],"names":["Route","Routes","Navigate","Link","useNavigate","useSelector","loginActions","useDispatch","Login","classes","useState","useEffect","Home","MyProfile","Booking","MyBookings","App","navigate","dispatch","signUpFlag","setSignUpFlag","navigateLoginF","setNavigateLoginF","isAuthenticated","state","login","postSignUpHandler","resetNavigateLoginF","loggedInUser","localStorage","getItem","userId","LoginStateHandler","UpdateUserId","textDecoration","button"],"mappings":"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","sourcesContent":["import { Route, Routes, Navigate, Link, useNavigate } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\nimport { loginActions } from \"./store/login-slice\";\nimport { useDispatch } from \"react-redux\";\nimport Login from \"./components/Authentication/Login\";\nimport classes from \"./components/UI/Button/Button.module.css\";\nimport { useState, useEffect } from \"react\";\nimport Home from \"./components/Home/Home\";\nimport MyProfile from \"./components/Profile/MyProfile\";\nimport Booking from \"./components/Ticket Booking/Booking\";\nimport MyBookings from \"./components/Ticket Booking/MyBookings\";\n\nfunction App() {\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const [signUpFlag, setSignUpFlag] = useState(true);\n  const [navigateLoginF, setNavigateLoginF] = useState(true);\n\n  const isAuthenticated = useSelector((state) => state.login.isAuthenticated);\n\n  function postSignUpHandler() {\n    setSignUpFlag(true);\n    setNavigateLoginF(true);\n  }\n\n  function resetNavigateLoginF() {\n    setNavigateLoginF(false);\n  }\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      navigate(\"/home\");\n    }\n  }, [isAuthenticated]);\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate(\"/login\");\n    }\n  }, [isAuthenticated]);\n\n  useEffect(() => {\n    const loggedInUser = localStorage.getItem(\"isLoggedIn\");\n    const userId = localStorage.getItem(\"userId\");\n    if (loggedInUser) {\n      dispatch(loginActions.LoginStateHandler());\n      dispatch(loginActions.UpdateUserId(userId));\n    }\n  }, [dispatch]);\n\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Navigate replace to=\"/login\" />} />\n      <Route path=\"/login\" element={<Login />}>\n        <Route\n          path=\"\"\n          element={\n            <Link\n              style={{ textDecoration: \"none\" }}\n              className={classes.button}\n              to={\"/signUp\"}\n              onClick={resetNavigateLoginF}\n            >\n              New User?\n            </Link>\n          }\n        />\n      </Route>\n      <Route\n        path=\"/signUp\"\n        element={\n          <Login\n            signUpFlag={signUpFlag}\n            postSignUp={postSignUpHandler}\n            loginF={navigateLoginF}\n          />\n        }\n      >\n        <Route\n          path=\"\"\n          element={\n            <Link\n              style={{ textDecoration: \"none\" }}\n              className={classes.button}\n              to={\"/login\"}\n              onClick={postSignUpHandler}\n            >\n              Back\n            </Link>\n          }\n        />\n      </Route>\n      <Route path=\"/home\" element={<Home />} />\n      <Route path=\"/home/myProfile\" element={<MyProfile />} />\n      <Route path=\"/home/booking/:shipId\" element={<Booking />} />\n      <Route path=\"/home/myBookings\" element={<MyBookings />} />\n    </Routes>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}